<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Incident Command Center</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Segoe UI;background:#0b1e35;color:white}
header{background:#132c4d;padding:15px;font-size:20px}
.container{display:flex;height:100vh}
.sidebar{width:250px;background:#132c4d;padding:10px}
.sidebar button{width:100%;margin:6px 0;padding:10px;background:#1f3f66;border:none;color:white;cursor:pointer}
.sidebar button:hover{background:#29598f}
.main{flex:1;padding:20px;overflow:auto}
.card{background:#1f3f66;padding:12px;margin:10px 0;border-radius:6px}
input,select,textarea{width:100%;padding:8px;margin:6px 0}
button{border:none;padding:6px 10px;margin:3px;cursor:pointer}
.orange{background:orange;color:white}
.blue{background:#0099ff;color:white}
.red{background:#cc0000;color:white}
.green{background:green;color:white}
.closeBtn{background:#444;color:white}
.timer{color:#00e5ff;font-weight:bold}
.sectionTitle{margin-top:25px;border-bottom:1px solid #29598f;padding-bottom:5px}
</style>
</head>

<body>

<header>ðŸš¨ Incident Command Center</header>

<div class="container">

<div class="sidebar">
<button onclick="show('dashboard')">Dashboard</button>
<button onclick="show('createIncident')">Create Incident</button>
</div>

<div class="main">

<section id="dashboard" style="display:block">
<h2>Active Incidents</h2>
<div id="incidentBoard"></div>
</section>

<section id="createIncident" style="display:none">
<h2>Create Incident</h2>
<input id="address" placeholder="Address">
<input id="description" placeholder="Description">
<input id="contact" placeholder="Contact On Scene">
<select id="priority">
<option>Low</option>
<option>Medium</option>
<option>High</option>
<option>Critical</option>
</select>
<button onclick="createIncident()">Create Incident</button>
</section>

</div>
</div>

<script>
let incidents=[];

// Show section
function show(id){
document.querySelectorAll("section").forEach(s=>s.style.display="none");
document.getElementById(id).style.display="block";
}

// Create incident
function createIncident(){
if(!address.value || !description.value){ alert("Enter address and description"); return; }
const incident={
id:Date.now(),
address:address.value,
description:description.value,
contact:contact.value,
priority:priority.value,
created:Date.now(),
status:"Responding"
};
incidents.unshift(incident); // newest first
renderIncidents();
address.value=""; description.value=""; contact.value="";
show("dashboard");
}

// Update status
function updateStatus(id,status){
const inc=incidents.find(i=>i.id===id);
if(inc){ inc.status=status; renderIncidents(); }
}

// Remove incident
function cancelIncident(id){
incidents=incidents.filter(i=>i.id!==id);
renderIncidents();
}

// Render incidents
function renderIncidents(){
const div=document.getElementById("incidentBoard");
div.innerHTML="";
incidents.forEach(i=>{
let diff=Math.floor((Date.now()-i.created)/1000);
let m=Math.floor(diff/60).toString().padStart(2,"0");
let s=(diff%60).toString().padStart(2,"0");

div.innerHTML+=`
<div class="card">
<b>${i.priority}</b> - ${i.address}<br>
${i.description}<br>
Contact: ${i.contact}<br>
Time: <span class="timer">${m}:${s}</span><br>
Status: <b>${i.status}</b><br>
<button class="orange" onclick="updateStatus(${i.id},'Responding')">Responding</button>
<button class="blue" onclick="updateStatus(${i.id},'Standing Off')">Standing Off</button>
<button class="red" onclick="updateStatus(${i.id},'Busy')">Busy</button>
<button class="green" onclick="updateStatus(${i.id},'Completed')">Completed</button>
<button class="closeBtn" onclick="cancelIncident(${i.id})">Remove</button>
</div>`;
});
}

// Update timers every second
setInterval(renderIncidents,1000);

</script>
</body>
</html>
